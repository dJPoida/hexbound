<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hexbound</title>
  </head>
  <body>
    <div id="app">
      <h1>Hexbound Game</h1>
      <p style="font-size: 0.8em; color: grey;">Version: <span id="appVersionDisplay"></span></p>

      <div id="playerManagement">
        <div id="nameInputSection">
          <label for="playerNameInput">Enter Your Name:</label>
          <input type="text" id="playerNameInput" />
          <button id="saveNameButton">Save Name & Play</button>
        </div>
        <p id="loadingPlayerMessage" style="display: none;">Loading your details...</p>
        <div id="loggedInSection" style="display: none;">
          <p>Logged in as: <strong id="loggedInPlayerName"></strong></p>
          <button id="logoutButton">Logout</button>
        </div>
      </div>

      <hr id="viewDivider" style="display: none;" />

      <div id="lobbyView" style="display: none; text-align: left;">
        <h2>Lobby</h2>
        <h3>Your Active Games:</h3>
        <p id="myGamesListLoadingIndicator" style="display: none;">Loading your games...</p>
        <ul id="myGamesList" style="padding-left: 0; list-style-position: inside;">
          <!-- Game items will be populated here by main.ts -->
          <!-- Example: <li>Game XYZ (Opponent: ABC) <button data-gameid="XYZ">Join</button></li> -->
        </ul>
        <p id="noGamesMessage" style="display: none;">You are not currently in any games.</p>
        
        <hr/>
        <h3>Start or Join a Game:</h3>
        <button id="lobbyCreateNewGameButton">Create New Game</button>
        <div>
          <input type="text" id="joinGameIdInput" placeholder="Paste Game ID here" />
          <button id="lobbyJoinByIdButton">Join by ID</button>
        </div>
      </div>

      <div id="gameContainer" style="display: none;">
        <button id="returnToLobbyButton" style="display: none; margin-bottom: 10px;">Return to Lobby</button>
        <div id="gameInfo">
          <p>Game ID: <strong id="gameIdDisplay">Loading...</strong> 
             <button id="copyGameLinkButton">Copy Share Link</button>
             <button id="startNewGameButton">Start New Game</button> 
          </p>
          <p>You are: <strong id="playerNumberDisplay">-</strong></p>
          <p>Current Turn: <strong id="currentTurnDisplay">-</strong></p>
        </div>
  
        <hr />
  
        <p>Counter: <span id="counter">0</span></p>
        <button id="incrementButton">Increment</button>
        <button id="endTurnButton">End Turn</button>

        <hr style="margin-top: 20px;"/> 
        <div id="debugSection">
          <button id="toggleDebugButton">Show Debug Info</button>
          <div id="debugContent" style="display: none; margin-top: 10px; max-height: 200px; overflow-y: auto; background-color: #333; color: #f0f0f0; border: 1px solid #555; padding: 10px; text-align: left;">
            <h4>Current Game State (Client-Side View):</h4>
            <pre id="gameStateJson" style="white-space: pre-wrap; word-wrap: break-word;"></pre>
          </div>
        </div>

      </div>

    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
